<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Servicios - MatchaSalon</title>
    <link rel="stylesheet" href="CSS/style.css">
</head>
<body>

<header class="header">
    <img class="bg" src="Imagen/bg.svg" alt="">

    <div class="menu container">
        <a href="index.html" class="logo">Servicios</a>

        <input type="checkbox" id="menu">
        <label for="menu">
            <img src="Imagen/menu.svg" class="menu-icono" alt="">
        </label>

        <nav class="navbar">
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="Servicios.html">Servicios</a></li>
                <li><a href="Productos.html">Productos</a></li>
                <li><a href="citas.html">Agendar Citas</a></li>

                <!-- Carrito -->
                <li class="cart-icon">
                    <a href="carrito.html">
                        <svg width="26" height="26" viewBox="0 0 24 24">
                            <path d="M6 6h15l-2 9H8L6 6zm0 0H3"
                                stroke="#5E925C" stroke-width="2" fill="none"
                                stroke-linecap="round" stroke-linejoin="round"/>
                            <circle cx="10" cy="19" r="1" fill="#5E925C"/>
                            <circle cx="17" cy="19" r="1" fill="#5E925C"/>
                        </svg>
                        <span id="cart-count">0</span>
                    </a>
                </li>

                <li id="user-area"></li>
            </ul>
        </nav>
    </div>

    <div class="header-content container">
        <div class="header-txt">
            <h1 style="color:white;">Nuestros Servicios</h1>
        </div>
    </div>
</header>


<section class="container servicios-section">
    <h2>Servicios Disponibles</h2>

    <!-- CONTENEDOR DINÃMICO -->
    <div id="lista-servicios" class="service-list"></div>
</section>


<footer class="footer container">
    <div class="footer-links">
        <div class="link">
            <h3>Contactos</h3>
            <div class="socials">
                <img src="Imagen/s1.svg" alt="">
                <img src="Imagen/s3.svg" alt="">
            </div>
        </div>

        <div class="link">
            <h3>Redes sociales</h3>
            <ul>
                <li><a href="#">Instagram | @Matcha_Salon</a></li>
                <li><a href="#">Correo | matchasalon@gmail.com</a></li>
            </ul>
        </div>

        <div class="link">
            <h3>Sucursal</h3>
            <ul>
                <li><a href="#">San Francisco</a></li>
            </ul>
        </div>
    </div>
</footer>

<!-- Scripts -->
<script src="JS/carrito.js"></script>
<script src="JS/session.js"></script>

<script>
/* ===========================================
   Cargar servicios desde API
=========================================== */

const API_SERVICIOS = "https://localhost:7024/api/Servicios";

document.addEventListener("DOMContentLoaded", async () => {
    const contenedor = document.getElementById("lista-servicios");

    try {
        const res = await fetch(API_SERVICIOS);
        const servicios = await res.json();

        contenedor.innerHTML = "";

        servicios.forEach(s => {
            contenedor.innerHTML += `
                <div class="service-card">

                    <img src="Imagen/${s.nombreServicio.replace(/\s+/g,'')}.jpg" alt="${s.nombreServicio}">

                    <h3>${s.nombreServicio}</h3>

                    <p>${s.descripcion || "Servicio profesional disponible."}</p>

                    <span class="service-price">$${s.precio}</span>

                    <button 
                        onclick="agregarAlCarrito(${s.idServicio}, '${s.nombreServicio}', ${s.precio})"
                        class="btn-agregar">
                        Agregar al carrito
                    </button>
                </div>
            `;
        });

    } catch (error) {
        console.error("Error cargando servicios:", error);
    }
});
</script>

</body>
</html>
