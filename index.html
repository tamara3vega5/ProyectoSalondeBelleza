<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MatchaSalon</title>
    <link rel="stylesheet" href="CSS/style.css">
</head>

<body>

<header class="header">
    <img class="bg" src="Imagen/bg.svg" alt="">
    <img class="esp" src="Imagen/Maatcha.png" alt="">

    <div class="menu container">
        <a href="index.html" class="logo">MatchaSalon</a>

        <input type="checkbox" id="menu">
        <label for="menu"><img src="Imagen/menu.svg" class="menu-icono" alt=""></label>

        <nav class="navbar">
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="Servicios.html">Servicios</a></li>
                <li><a href="Productos.html">Productos</a></li>
                <li><a href="citas.html">Agendar Citas</a></li>

                <!-- CARRITO -->
                <li class="cart-icon">
                    <a href="carrito.html">
                        <svg width="26" height="26" viewBox="0 0 24 24">
                            <path d="M6 6h15l-2 9H8L6 6zm0 0H3"
                                stroke="#5E925C" stroke-width="2" fill="none"
                                stroke-linecap="round" stroke-linejoin="round"/>
                            <circle cx="10" cy="19" r="1" fill="#5E925C"/>
                            <circle cx="17" cy="19" r="1" fill="#5E925C"/>
                        </svg>
                        <span id="cart-count">0</span>
                    </a>
                </li>

                <!-- LOGIN / USER -->
                <li id="user-area"></li>
            </ul>
        </nav>
    </div>

    <div class="header-content container">
        <div class="header-info">

            <div class="header-txt">
                <h1>Tu estilo, tu matcha, tu salón</h1>
                <p>
                    En MatchaSalon fusionamos belleza y bienestar en un solo espacio.
                    Servicios de uñas, cabello y faciales para tu mejor versión.
                </p>

                <a href="Servicios.html" class="btn-1">Ver Servicios</a>
            </div>

            <div class="header-img">
                <img src="Imagen/fondosupe.jpg" alt="">
            </div>

        </div>
    </div>
</header>


<!-- =====================================================
     SECCIÓN DE PRODUCTOS DINÁMICOS
===================================================== -->

<section class="productosIndex container">
    <h1>Productos Destacados</h1>
    <p>Productos profesionales seleccionados para tu bienestar.</p>
</section>

<div id="lista-productos" class="service-list"></div>



<footer class="footer container">
    <div class="footer-links">

        <div class="link">
            <h3>Contactos</h3>
            <div class="socials">
                <img src="Imagen/s1.svg" alt="">
                <img src="Imagen/s3.svg" alt="">
            </div>
        </div>

        <div class="link">
            <h3>Redes sociales</h3>
            <ul>
                <li><a href="#">Instagram | @Matcha_Salon</a></li>
                <li><a href="#">Correo | matchasalon@gmail.com</a></li>
            </ul>
        </div>

        <div class="link">
            <h3>Servicios</h3>
            <ul>
                <li><a href="#">Cabello</a></li>
                <li><a href="#">Uñas</a></li>
                <li><a href="#">Faciales</a></li>
                <li><a href="#">Maquillaje</a></li>
            </ul>
        </div>

        <div class="link">
            <h3>Sucursal</h3>
            <ul>
                <li><a href="#">San Francisco</a></li>
                <li><a href="#">Teléfono | 300-000</a></li>
            </ul>
        </div>

    </div>
</footer>

<!-- SCRIPTS IMPORTANTES -->
<script src="JS/carrito.js"></script>
<script src="JS/session.js"></script>

<script>
/* ==========================================================
   Cargar PRODUCTOS desde la API real
========================================================== */

const API_PRODUCTOS = "https://localhost:7024/api/Productos";

document.addEventListener("DOMContentLoaded", async () => {
    const cont = document.getElementById("lista-productos");

    try {
        const res = await fetch(API_PRODUCTOS);
        const productos = await res.json();

        cont.innerHTML = "";

        productos.forEach(p => {
            cont.innerHTML += `
                <div class="service-card">
                    <img src="${p.imagen}" alt="${p.nombreProducto}">
                    <h3>${p.nombreProducto}</h3>
                    <p>${p.descripcion}</p>

                    <span class="service-price">$${p.precio}</span>

                    <button 
                        class="btn-agregar"
                        onclick="agregarAlCarrito(${p.idProducto}, '${p.nombreProducto}', ${p.precio})">
                        Agregar al carrito
                    </button>
                </div>
            `;
        });

    } catch (err) {
        console.error("Error cargando productos:", err);
    }
});
</script>

</body>
</html>
